<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<XmlExtensions.PatchDef Name="decaf_AWC_PatchExpectation" Abstract="True">
			<parameters>
				<li>decaf_AWC_percent</li>
			</parameters>
		<apply>
			<Operation Class="XmlExtensions.OptionalPatch">
				<modId>decaf.adjustablewealthcap</modId>
				<key>decaf_AWC_enabled</key>
				<defaultValue>true</defaultValue>
        <!--True: wealth cap may be adjusted-->
				<caseTrue>
					<Operation Class="XmlExtensions.AggregateValues">
						<valueOperations>
							<Operation Class="XmlExtensions.UseSetting">
								<modId>decaf.adjustablewealthcap</modId>
								<key>decaf_AWC_percent</key>
								<defaultValue>100</defaultValue>
							</Operation>
							<Operation Class="XmlExtensions.CreateVariable">
								<value>{decaf_AWC_percent}</value>
								<value2>100</value2>
								<operation>/</operation>
								<storeIn>decaf_AWC</storeIn>
							</Operation>
							<!--########## Expectations Multiplied ##########-->
							<Operation Class="XmlExtensions.CreateVariable">
								<!--Extremely Low Expectations-->
								<value>15000</value>
								<value2>{decaf_AWC}</value2>
								<defaultValue2>1</defaultValue2>
								<operation>*</operation>
								<storeIn>expectations_EL</storeIn>
							</Operation>
							<Operation Class="XmlExtensions.CreateVariable">
								<!--Very Low Expectations-->
								<value>31000</value>
								<value2>{decaf_AWC}</value2>
								<defaultValue2>1</defaultValue2>
								<operation>*</operation>
								<storeIn>expectations_VL</storeIn>
							</Operation>
							<Operation Class="XmlExtensions.CreateVariable">
								<!--Low Expectations-->
								<value>81000</value>
								<value2>{decaf_AWC}</value2>
								<defaultValue2>1</defaultValue2>
								<operation>*</operation>
								<storeIn>expectations_L</storeIn>
							</Operation>
							<Operation Class="XmlExtensions.CreateVariable">
								<!--Moderate Expectations-->
								<value>182000</value>
								<value2>{decaf_AWC}</value2>
								<defaultValue2>1</defaultValue2>
								<operation>*</operation>
								<storeIn>expectations_M</storeIn>
							</Operation>
							<Operation Class="XmlExtensions.CreateVariable">
								<!--High Expectations-->
								<value>308000</value>
								<value2>{decaf_AWC}</value2>
								<defaultValue2>1</defaultValue2>
								<operation>*</operation>
								<storeIn>expectations_H</storeIn>
							</Operation>
							<Operation Class="XmlExtensions.CreateVariable">
								<!--Sky High Expectations-->
								<value>1000000000</value>
								<value2>{decaf_AWC}</value2>
								<defaultValue2>1</defaultValue2>
								<operation>*</operation>
								<storeIn>expectations_SH</storeIn>
							 </Operation> 
						</valueOperations>
						<apply>
							<Operation Class="PatchOperationReplace">
								<xpath>/Defs/ExpectationDef[defName="ExtremelyLow"]/maxMapWealth</xpath>
								<value>
									<maxMapWealth>{expectations_EL}</maxMapWealth>
								</value>
							</Operation>
							<Operation Class="PatchOperationReplace">
								<xpath>/Defs/ExpectationDef[defName="VeryLow"]/maxMapWealth</xpath>
								<value>
									<maxMapWealth>{expectations_VL}</maxMapWealth>
								</value>
							</Operation>
							<Operation Class="PatchOperationReplace">
								<xpath>/Defs/ExpectationDef[defName="Low"]/maxMapWealth</xpath>
								<value>
									<maxMapWealth>{expectations_L}</maxMapWealth>
								</value>
							</Operation>
							<Operation Class="PatchOperationReplace">
								<xpath>/Defs/ExpectationDef[defName="Moderate"]/maxMapWealth</xpath>
								<value>
									<maxMapWealth>{expectations_M}</maxMapWealth>
								</value>
							</Operation>
							<Operation Class="PatchOperationReplace">
								<xpath>/Defs/ExpectationDef[defName="High"]/maxMapWealth</xpath>
								<value>
									<maxMapWealth>{expectations_H}</maxMapWealth>
								</value>
							</Operation>
							<Operation Class="PatchOperationReplace">
								<xpath>/Defs/ExpectationDef[defName="SkyHigh"]/maxMapWealth</xpath>
								<value>
									<maxMapWealth>{expectations_SH}</maxMapWealth>
								</value>
							</Operation>
						</apply>
					</Operation>
				</caseTrue>
			</Operation>
		</apply>
	</XmlExtensions.PatchDef>
</Defs>